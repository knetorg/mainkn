<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KomaruNet - –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å</title>
    <style>
        :root {
            /* –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ */
            --primary-blue: #4680C2;
            --dark-blue: #2a5885;
            --bg-color: #edeef0;
            --card-bg: #ffffff;
            --text-main: #000000;
            --text-secondary: #818c99;
            --border-color: #dce1e6;
            --hover-bg: #f0f2f5;
            --input-bg: #f0f2f5;
            --shadow: rgba(0,0,0,0.1);
            --app-icon-bg: #f0f4f8;
        }

        /* –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ */
        body.dark-mode {
            --primary-blue: #5b9dd9;
            --dark-blue: #3e7eb5;
            --bg-color: #181818;
            --card-bg: #222222;
            --text-main: #e1e3e6;
            --text-secondary: #aaaaaa;
            --border-color: #333333;
            --hover-bg: #333333;
            --input-bg: #333333;
            --shadow: rgba(0,0,0,0.5);
            --app-icon-bg: #2b2b2b;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding-top: 60px;
            color: var(--text-main);
            transition: background-color 0.3s, color 0.3s;
            -webkit-tap-highlight-color: transparent;
            overflow-x: hidden;
        }

        /* --- –®–∞–ø–∫–∞ --- */
        header {
            background-color: var(--card-bg);
            height: 48px;
            position: fixed;
            top: 0; left: 0; right: 0;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 1px 3px var(--shadow);
            z-index: 100;
            border-bottom: 1px solid var(--border-color);
            transition: background-color 0.3s;
        }

        .header-content {
            width: 960px;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 15px;
        }

        .logo {
            font-weight: bold; font-size: 20px; color: var(--primary-blue);
            text-decoration: none; display: flex; align-items: center; gap: 5px;
        }

        .search-bar {
            background: var(--input-bg);
            border-radius: 8px; padding: 5px 15px; border: none;
            width: 250px; color: var(--text-main);
            transition: background 0.3s;
        }

        .header-icons { display: flex; gap: 15px; align-items: center; }
        .theme-btn {
            background: none; border: none; cursor: pointer; font-size: 20px;
            padding: 5px; border-radius: 50%; transition: 0.2s;
        }

        /* --- –ú–∞–∫–µ—Ç --- */
        .container {
            max-width: 960px; margin: 20px auto;
            display: grid; grid-template-columns: 240px 1fr;
            gap: 20px; padding: 0 15px; padding-bottom: 80px;
        }

        .sidebar { position: sticky; top: 70px; height: fit-content; display: flex; flex-direction: column; gap: 15px;}

        /* --- –ü—Ä–æ—Ñ–∏–ª—å –∏ –ú–µ–Ω—é (–°—Ç–∏–ª–∏ –∫–∞–∫ —Ä–∞–Ω—å—à–µ) --- */
        .profile-card {
            background: var(--card-bg); border-radius: 12px; overflow: visible;
            border: 1px solid var(--border-color); text-align: center; padding-bottom: 15px; position: relative;
        }
        .cover { height: 80px; background: linear-gradient(135deg, #4680C2, #6a9bd8); border-radius: 12px 12px 0 0; }
        .avatar-container { width: 90px; height: 90px; margin: -45px auto 10px; position: relative; cursor: pointer; transition: transform 0.2s; }
        .avatar-container:hover { transform: scale(1.05); }
        .avatar-frame { width: 100%; height: 100%; border-radius: 50%; border: 4px solid var(--card-bg); background-color: #fff; overflow: hidden; position: relative; }
        .avatar-frame .tenor-gif-embed { width: 150% !important; height: 150% !important; margin-left: -25%; margin-top: -25%; pointer-events: none; }
        .profile-name { font-weight: bold; font-size: 16px; margin-top: 5px; }
        .profile-username { color: var(--text-secondary); font-size: 13px; margin-bottom: 10px; }
        .stats { display: flex; justify-content: space-around; padding: 10px 0; border-top: 1px solid var(--border-color); }
        .stat-item { display: flex; flex-direction: column; font-size: 12px; color: var(--text-secondary); cursor: pointer; }
        .stat-count { font-size: 16px; font-weight: bold; color: var(--primary-blue); }

        .menu-list { background: var(--card-bg); border-radius: 12px; padding: 10px; border: 1px solid var(--border-color); }
        .menu-item { padding: 10px; color: var(--text-main); cursor: pointer; border-radius: 6px; display: flex; align-items: center; gap: 10px; transition: background 0.2s; position: relative; }
        .menu-item:hover { background-color: var(--hover-bg); }
        .menu-item.active { background-color: var(--hover-bg); color: var(--primary-blue); font-weight: 500; }
        .menu-item.active::before { content: ''; width: 4px; height: 16px; background: var(--primary-blue); border-radius: 2px; position: absolute; left: 0; top: 50%; transform: translateY(-50%); }

        /* --- –í–∏–¥–∂–µ—Ç—ã --- */
        .widget-card { background: var(--card-bg); border-radius: 12px; padding: 15px; border: 1px solid var(--border-color); }
        .widget-title { font-size: 13px; color: var(--text-secondary); margin-bottom: 10px; font-weight: 500; text-transform: uppercase; }
        .time-widget { font-size: 28px; font-weight: bold; color: var(--text-main); text-align: center; }
        .date-widget { font-size: 14px; color: var(--text-secondary); text-align: center; margin-top: 5px; }

        /* --- –°–¢–†–ê–ù–ò–¶–´ --- */
        .page-section { display: none; }
        .page-section.active { display: flex; flex-direction: column; gap: 15px; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* --- –õ–µ–Ω—Ç–∞ --- */
        .stories-container { background: var(--card-bg); padding: 15px; border-radius: 12px; border: 1px solid var(--border-color); display: flex; gap: 15px; overflow-x: auto; scrollbar-width: none; }
        .story { display: flex; flex-direction: column; align-items: center; gap: 5px; cursor: pointer; min-width: 60px; }
        .story-ring { width: 56px; height: 56px; border-radius: 50%; padding: 2px; background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); }
        .story-img { width: 100%; height: 100%; border-radius: 50%; border: 2px solid var(--card-bg); background: #eee; object-fit: cover; overflow: hidden; }
        .story-img .tenor-gif-embed { width: 150% !important; height: 150% !important; margin-left: -25%; margin-top: -25%; pointer-events: none; }
        .story-name { font-size: 11px; color: var(--text-main); text-align: center; width: 60px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}

        .post { background: var(--card-bg); border-radius: 12px; border: 1px solid var(--border-color); padding: 15px; }
        .post-header { display: flex; align-items: center; margin-bottom: 10px; }
        .post-avatar-container { width: 40px; height: 40px; border-radius: 50%; margin-right: 10px; overflow: hidden; background: #eee; }
        .post-text { font-size: 14px; margin-bottom: 10px; line-height: 1.4; }
        .post-content { border-radius: 8px; overflow: hidden; margin-bottom: 10px; border: 1px solid #eee; }
        .post-actions { display: flex; justify-content: space-between; border-top: 1px solid var(--border-color); padding-top: 10px; }
        .action-btn { background: none; border: none; color: var(--text-secondary); font-weight: 500; cursor: pointer; display: flex; align-items: center; gap: 5px; padding: 5px 10px; border-radius: 6px; transition: 0.2s; }
        .action-btn.liked { color: #ff3347; }

        /* --- –†–ê–î–ò–û --- */
        .music-player { background: var(--card-bg); border-radius: 12px; border: 1px solid var(--border-color); padding: 20px; }
        .track-list { max-height: 400px; overflow-y: auto; }
        .track { display: flex; align-items: center; padding: 10px; border-radius: 8px; cursor: pointer; transition: 0.2s; border-bottom: 1px solid var(--border-color); }
        .track:hover { background: var(--hover-bg); }
        .track.playing { background: var(--hover-bg); border-left: 3px solid var(--primary-blue); }
        .track-icon { width: 30px; height: 30px; background: #eee; border-radius: 4px; margin-right: 10px; display: flex; align-items: center; justify-content: center; font-size: 16px; }
        .track-info { flex-grow: 1; overflow: hidden; }
        .track-title { font-weight: 500; font-size: 14px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .track-artist { font-size: 11px; color: var(--text-secondary); }
        .genre-tag { font-size: 9px; background: var(--input-bg); padding: 2px 4px; border-radius: 3px; margin-left: 5px; color: var(--text-secondary);}

        /* --- –í–ò–î–ï–û --- */
        .video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .video-card { background: var(--card-bg); border-radius: 12px; border: 1px solid var(--border-color); overflow: hidden; }
        .video-frame-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; }
        .video-frame-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        .video-info { padding: 10px; }
        .video-title { font-weight: 500; font-size: 14px; margin-bottom: 5px; }

        /* --- APP GRID (NEW) --- */
        .apps-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 20px; padding: 20px; background: var(--card-bg);
            border-radius: 12px; border: 1px solid var(--border-color);
        }
        .app-icon-wrapper {
            display: flex; flex-direction: column; align-items: center; gap: 8px;
            cursor: pointer; transition: transform 0.2s;
        }
        .app-icon-wrapper:active { transform: scale(0.9); }
        .app-icon {
            width: 60px; height: 60px; border-radius: 15px;
            background: var(--app-icon-bg); display: flex; align-items: center; justify-content: center;
            font-size: 28px; box-shadow: 0 4px 10px var(--shadow);
            border: 1px solid var(--border-color);
        }
        .app-title { font-size: 11px; color: var(--text-main); text-align: center; font-weight: 500; }

        /* --- APP WINDOW (MODAL) --- */
        .app-window {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-color); z-index: 2000;
            display: none; flex-direction: column;
            animation: zoomIn 0.3s ease;
        }
        @keyframes zoomIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        
        .app-header {
            height: 50px; background: var(--card-bg); border-bottom: 1px solid var(--border-color);
            display: flex; align-items: center; padding: 0 15px; justify-content: space-between;
        }
        .app-back-btn { font-size: 16px; color: var(--primary-blue); cursor: pointer; font-weight: 500; }
        .app-window-title { font-weight: bold; font-size: 16px; }
        
        .app-body { flex-grow: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; align-items: center; }
        
        .launch-screen {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--card-bg); z-index: 2001;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 0.5s;
        }
        .launch-logo { font-size: 60px; margin-bottom: 20px; animation: bounce 1s infinite; }
        .launch-text { font-size: 18px; font-weight: bold; color: var(--text-secondary); }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }

        /* --- TOOL STYLES --- */
        .tool-container { width: 100%; max-width: 500px; background: var(--card-bg); padding: 20px; border-radius: 12px; border: 1px solid var(--border-color); text-align: center; }
        .tool-display { font-size: 32px; font-weight: bold; margin: 20px 0; min-height: 40px; }
        .tool-btn { background: var(--primary-blue); color: white; border: none; padding: 10px 20px; border-radius: 8px; font-size: 16px; cursor: pointer; margin: 5px; }
        .tool-btn:active { opacity: 0.8; }
        .tool-input { width: 80%; padding: 10px; font-size: 16px; border-radius: 8px; border: 1px solid var(--border-color); margin-bottom: 10px; background: var(--input-bg); color: var(--text-main); }
        .grid-game { display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; max-width: 300px; margin: 0 auto; }
        .grid-cell { aspect-ratio: 1; background: var(--input-bg); display: flex; align-items: center; justify-content: center; font-size: 32px; cursor: pointer; border-radius: 5px; }

        /* --- MOBILE NAV --- */
        .mobile-nav {
            display: none; position: fixed; bottom: 0; left: 0; right: 0;
            background: var(--card-bg); border-top: 1px solid var(--border-color);
            height: 60px; align-items: center; justify-content: space-around;
            z-index: 1000;
        }
        .mobile-nav-item { display: flex; flex-direction: column; align-items: center; color: var(--text-secondary); font-size: 10px; }
        .mobile-nav-item.active { color: var(--primary-blue); }
        .mobile-nav-icon { font-size: 20px; margin-bottom: 2px; }

        @media (max-width: 700px) {
            .container { grid-template-columns: 1fr; }
            .sidebar { display: none; }
            .mobile-nav { display: flex; }
            .search-bar { display: none; }
            .header-content { width: 100%; }
        }
    </style>
</head>
<body>

    <!-- App Window (Hidden by default) -->
    <div id="appWindow" class="app-window">
        <div id="launchScreen" class="launch-screen">
            <div class="launch-logo" id="launchIcon">üöÄ</div>
            <div class="launch-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
        <div class="app-header">
            <div class="app-back-btn" onclick="closeApp()">‚ùÆ –ù–∞–∑–∞–¥</div>
            <div class="app-window-title" id="appWindowTitle">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</div>
            <div style="width: 50px;"></div>
        </div>
        <div class="app-body" id="appBody">
            <!-- App content goes here -->
        </div>
    </div>

    <header>
        <div class="header-content">
            <a href="#" class="logo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/><path d="M12 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4 3c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm8 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4 8c-2.33 0-4.31-1.46-5.11-3.5h10.22c-.8 2.04-2.78 3.5-5.11 3.5z"/></svg>
                <span>KomaruNet</span>
            </a>
            <input type="text" class="search-bar" placeholder="–ü–æ–∏—Å–∫...">
            <div class="header-icons">
                <button class="theme-btn" onclick="toggleTheme()" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåô</button>
                <div class="avatar-container" style="width: 30px; height: 30px; margin: 0;">
                     <div class="avatar-frame" style="border: 2px solid var(--border-color);">
                         <div class="tenor-gif-embed" data-postid="16010071609240271312" data-share-method="host" data-aspect-ratio="1" data-width="100%" style="pointer-events: none;"></div>
                     </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê -->
        <div class="sidebar">
            <div class="profile-card">
                <div class="cover"></div>
                <div class="avatar-container">
                    <div class="avatar-frame">
                        <div class="tenor-gif-embed" data-postid="16010071609240271312" data-share-method="host" data-aspect-ratio="1" data-width="100%"></div>
                    </div>
                </div>
                <div class="profile-name">Komaru The Cat ‚úÖ</div>
                <div class="stats">
                    <div class="stat-item"><span class="stat-count">164</span>–ü–æ—Å—Ç–æ–≤</div>
                    <div class="stat-item"><span class="stat-count">1.2M</span>–ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</div>
                </div>
            </div>

            <div class="widget-card">
                <div class="widget-title">–°–µ–π—á–∞—Å</div>
                <div class="time-widget" id="clockWidget">00:00</div>
                <div class="date-widget" id="dateWidget">...</div>
            </div>

            <div class="menu-list">
                <div class="menu-item active" data-page="feed" onclick="switchPage('feed')">üì∞ –ù–æ–≤–æ—Å—Ç–∏</div>
                <div class="menu-item" data-page="music" onclick="switchPage('music')">üéµ –†–∞–¥–∏–æ (70+)</div>
                <div class="menu-item" data-page="videos" onclick="switchPage('videos')">üìπ –í–∏–¥–µ–æ</div>
                <div class="menu-item" data-page="tools" onclick="switchPage('tools')">üì± –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è (30)</div>
            </div>
        </div>

        <!-- –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –ö–û–õ–û–ù–ö–ê -->
        <div class="content-area">
            
            <!-- 1. –ù–û–í–û–°–¢–ò -->
            <div id="page-feed" class="page-section active">
                <div class="stories-container">
                    <div class="story"><div class="story-ring"><div class="story-img"><div class="tenor-gif-embed" data-postid="13601647073017653360" data-share-method="host" data-aspect-ratio="1" data-width="100%"></div></div></div><div class="story-name">Maxwell</div></div>
                    <div class="story"><div class="story-ring"><div class="story-img"><div class="tenor-gif-embed" data-postid="22425488" data-share-method="host" data-aspect-ratio="1" data-width="100%"></div></div></div><div class="story-name">Beluga</div></div>
                </div>
                <div class="post">
                    <div class="post-header">
                        <div class="post-avatar-container"><div class="tenor-gif-embed" data-postid="16010071609240271312" data-share-method="host" data-aspect-ratio="1" data-width="100%"></div></div>
                        <div class="post-info"><h4>Komaru The Cat ‚úÖ</h4><span>—Ç–æ–ª—å–∫–æ —á—Ç–æ</span></div>
                    </div>
                    <div class="post-text">–û–±–Ω–æ–≤–∏–ª–∞ —Å–≤–æ–∏ –ª—é–±–∏–º—ã–µ –≤–∏–¥–µ–æ –∏ –¥–æ–±–∞–≤–∏–ª–∞ 30 –Ω–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π! –¢–µ–ø–µ—Ä—å —ç—Ç–æ –Ω–∞—Å—Ç–æ—è—â–∞—è OS üò∏üíª #komaruOS #update</div>
                    <div class="post-content"><div class="tenor-gif-embed" data-postid="27299790" data-share-method="host" data-aspect-ratio="0.95625" data-width="100%"></div></div>
                    <div class="post-actions">
                        <button class="action-btn liked">‚ù§Ô∏è –ù—Ä–∞–≤–∏—Ç—Å—è 500</button>
                    </div>
                </div>
            </div>

            <!-- 2. –†–ê–î–ò–û -->
            <div id="page-music" class="page-section">
                <div class="music-player">
                    <div class="player-header" style="margin-bottom: 10px; font-weight: bold;">FM –†–∞–¥–∏–æ üìª</div>
                    <audio id="audioPlayer" controls style="width: 100%; margin-bottom: 10px;"></audio>
                    <div class="track-list" id="trackList"></div>
                </div>
            </div>

            <!-- 3. –í–ò–î–ï–û (–û–ë–ù–û–í–õ–ï–ù–û) -->
            <div id="page-videos" class="page-section">
                <div style="margin-bottom:15px; font-weight:bold;">–ú–æ–∏ –í–∏–¥–µ–æ üìπ</div>
                <div class="video-grid">
                    <!-- Komaru Cat Shorts -->
                    <div class="video-card">
                        <div class="video-frame-container">
                            <iframe src="https://www.youtube.com/embed/krSZ-4v3w-E" title="Komaru Cat Videos" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                        <div class="video-info"><div class="video-title">Komaru Cat Shorts (Original)</div></div>
                    </div>
                    <!-- Nyan Cat 10h -->
                    <div class="video-card">
                        <div class="video-frame-container">
                             <iframe src="https://www.youtube.com/embed/jIQ6UV2onyI" title="Nyan Cat 10 hours" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                        <div class="video-info"><div class="video-title">Nyan Cat 10 Hours</div></div>
                    </div>
                    <!-- Maxwell Theme -->
                    <div class="video-card">
                        <div class="video-frame-container">
                            <iframe src="https://www.youtube.com/embed/kOG0_qjKWEI" title="Maxwell the Cat Theme" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                        <div class="video-info"><div class="video-title">Maxwell the Cat Theme</div></div>
                    </div>
                </div>
            </div>

            <!-- 4. –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø (30 –ò–ù–°–¢–†–£–ú–ï–ù–¢–û–í) -->
            <div id="page-tools" class="page-section">
                <div style="margin-bottom:15px; font-weight:bold;">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è Komaru OS üì±</div>
                <div class="apps-grid" id="appsGrid">
                    <!-- Apps generated by JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="mobile-nav">
        <div class="mobile-nav-item active" data-page="feed" onclick="switchPage('feed')"><div class="mobile-nav-icon">üì∞</div><span>–ù–æ–≤–æ—Å—Ç–∏</span></div>
        <div class="mobile-nav-item" data-page="music" onclick="switchPage('music')"><div class="mobile-nav-icon">üéµ</div><span>–†–∞–¥–∏–æ</span></div>
        <div class="mobile-nav-item" data-page="videos" onclick="switchPage('videos')"><div class="mobile-nav-icon">üìπ</div><span>–í–∏–¥–µ–æ</span></div>
        <div class="mobile-nav-item" data-page="tools" onclick="switchPage('tools')"><div class="mobile-nav-icon">üì±</div><span>Apps</span></div>
    </div>

    <script>
        // --- 1. –†–ê–î–ò–û–°–¢–ê–ù–¶–ò–ò ---
        const radioStations = [
            { url: "http://listen.rusongs.ru:8005/ru-mp3-128", name: "–†—É—Å—Å–∫–∏–µ –ø–µ—Å–Ω–∏", genre: "Pop", bitrate: "128" },
            { url: "http://retroserver.streamr.ru:8043/retro256.mp3", name: "Retro FM", genre: "Retro", bitrate: "128" },
            { url: "https://icecast-record.cdnvideo.ru/record", name: "–†–∞–¥–∏–æ –†–µ–∫–æ—Ä–¥", genre: "Dance", bitrate: "320" },
            { url: "https://europaplus.hostingradio.ru:8014/ep-top256.mp3", name: "Europa Plus", genre: "Dance", bitrate: "192" },
            { url: "https://maximum.hostingradio.ru/maximum128.mp3", name: "Radio MAXIMUM", genre: "Rock", bitrate: "128" },
            { url: "http://nashe1.hostingradio.ru/ultra-128.mp3", name: "Radio Ultra", genre: "Rock", bitrate: "128" },
            { url: "https://listen1.myradio24.com/6262", name: "–°–ø–æ–∫–æ–π–Ω–æ–µ —Ä–∞–¥–∏–æ", genre: "Relax", bitrate: "128" },
             { url: "https://air.unmixed.ru/lradio256", name: "L Radio", genre: "Electro", bitrate: "128" },
            { url: "http://pool.anison.fm:9000/AniSonFM(320)", name: "Anison FM", genre: "Anime", bitrate: "320" }
        ];

        function initRadio() {
            const list = document.getElementById('trackList');
            const player = document.getElementById('audioPlayer');
            radioStations.forEach((station) => {
                const div = document.createElement('div');
                div.className = 'track';
                div.innerHTML = `<div class="track-icon">üìª</div><div class="track-info"><div class="track-title">${station.name}</div><div class="track-artist">${station.bitrate}k <span class="genre-tag">${station.genre}</span></div></div>`;
                div.onclick = () => {
                    document.querySelectorAll('.track').forEach(t => t.classList.remove('playing'));
                    div.classList.add('playing');
                    player.src = station.url;
                    player.play().catch(() => alert("–ë—Ä–∞—É–∑–µ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª HTTP –ø–æ—Ç–æ–∫. –í—ã–±–µ—Ä–∏—Ç–µ HTTPS —Å—Ç–∞–Ω—Ü–∏—é."));
                };
                list.appendChild(div);
            });
        }

        // --- 2. –°–ò–°–¢–ï–ú–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–ô (30 APPS) ---
        const appsData = [
            // –£—Ç–∏–ª–∏—Ç—ã
            { id: 'todo', icon: 'üìù', name: '–ó–∞–º–µ—Ç–∫–∏' },
            { id: 'calc', icon: 'üßÆ', name: '–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä' },
            { id: 'stopwatch', icon: '‚è±Ô∏è', name: '–°–µ–∫—É–Ω–¥–æ–º–µ—Ä' },
            { id: 'converter', icon: 'üîÑ', name: '–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä' },
            { id: 'password', icon: 'üîê', name: '–ü–∞—Ä–æ–ª—å' },
            { id: 'battery', icon: 'üîã', name: '–ë–∞—Ç–∞—Ä–µ—è' },
            { id: 'color', icon: 'üé®', name: '–¶–≤–µ—Ç' },
            { id: 'currency', icon: 'üí±', name: '–í–∞–ª—é—Ç–∞' },
            { id: 'flashlight', icon: 'üî¶', name: '–§–æ–Ω–∞—Ä–∏–∫' },
            { id: 'qrcode', icon: 'üî≥', name: 'QR –ö–æ–¥' },
            
            // –ò–≥—Ä—ã
            { id: 'clicker', icon: 'üê±', name: '–ö–ª–∏–∫–µ—Ä' },
            { id: 'tictactoe', icon: '‚ùå', name: 'X vs O' },
            { id: 'dice', icon: 'üé≤', name: '–ö–æ—Å—Ç–∏' },
            { id: 'coin', icon: 'ü™ô', name: '–ú–æ–Ω–µ—Ç–∫–∞' },
            { id: 'random', icon: '‚ùì', name: '–†–∞–Ω–¥–æ–º' },
            { id: 'magic8', icon: 'üé±', name: '–®–∞—Ä –°—É–¥—å–±—ã' },
            { id: 'reaction', icon: '‚ö°', name: '–†–µ–∞–∫—Ü–∏—è' },
            { id: 'memory', icon: 'üß†', name: '–ü–∞–º—è—Ç—å' },
            
            // –ó–¥–æ—Ä–æ–≤—å–µ –∏ –¢–µ—Å—Ç—ã
            { id: 'breathe', icon: 'üå¨Ô∏è', name: '–î—ã—Ö–∞–Ω–∏–µ' },
            { id: 'bmi', icon: '‚öñÔ∏è', name: '–ò–ú–¢' },
            { id: 'pomodoro', icon: 'üçÖ', name: '–ü–æ–º–æ–¥–æ—Ä–æ' },
            { id: 'water', icon: 'üíß', name: '–í–æ–¥–∞' },
            { id: 'age', icon: 'üéÇ', name: '–í–æ–∑—Ä–∞—Å—Ç' },
            
            // –¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∏ –§–∞–Ω
            { id: 'piano', icon: 'üéπ', name: '–ü–∏–∞–Ω–∏–Ω–æ' },
            { id: 'soundboard', icon: 'üîä', name: '–ó–≤—É–∫–∏' },
            { id: 'canvas', icon: '‚úèÔ∏è', name: '–†–∏—Å–æ–≤–∞–ª–∫–∞' },
            { id: 'metronome', icon: 'üéº', name: '–ú–µ—Ç—Ä–æ–Ω–æ–º' },
            { id: 'textrev', icon: 'abc', name: '–†–µ–≤–µ—Ä—Å' },
            { id: 'counter', icon: 'üî¢', name: '–°—á–µ—Ç—á–∏–∫' },
            { id: 'morse', icon: 'üì°', name: '–ú–æ—Ä–∑–µ' }
        ];

        function initApps() {
            const grid = document.getElementById('appsGrid');
            appsData.forEach(app => {
                const div = document.createElement('div');
                div.className = 'app-icon-wrapper';
                div.onclick = () => openApp(app);
                div.innerHTML = `<div class="app-icon">${app.icon}</div><div class="app-title">${app.name}</div>`;
                grid.appendChild(div);
            });
        }

        function openApp(app) {
            const win = document.getElementById('appWindow');
            const launch = document.getElementById('launchScreen');
            const icon = document.getElementById('launchIcon');
            const body = document.getElementById('appBody');
            const title = document.getElementById('appWindowTitle');

            // Reset
            body.innerHTML = '';
            title.innerText = app.name;
            icon.innerText = app.icon;
            
            // Show Window & Launch Screen
            win.style.display = 'flex';
            launch.style.display = 'flex';
            launch.style.opacity = '1';

            // Animate Loading
            setTimeout(() => {
                launch.style.opacity = '0';
                setTimeout(() => {
                    launch.style.display = 'none';
                    renderAppContent(app.id, body);
                }, 500);
            }, 1000);
        }

        function closeApp() {
            document.getElementById('appWindow').style.display = 'none';
        }

        // --- 3. –õ–û–ì–ò–ö–ê –í–°–ï–• –ü–†–ò–õ–û–ñ–ï–ù–ò–ô (30 APPS) ---
        function renderAppContent(id, container) {
            const c = document.createElement('div');
            c.className = 'tool-container';
            container.appendChild(c);

            switch(id) {
                case 'todo':
                    c.innerHTML = `<h3>–ó–∞–º–µ—Ç–∫–∏</h3><input id="inp" class="tool-input"><button class="tool-btn" onclick="this.nextElementSibling.innerHTML += '<div>'+document.getElementById('inp').value+'</div>'">–î–æ–±–∞–≤–∏—Ç—å</button><div></div>`;
                    break;
                case 'calc':
                    c.innerHTML = `<h3>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h3><input id="cInp" class="tool-input"><button class="tool-btn" onclick="try{document.getElementById('cRes').innerText=eval(document.getElementById('cInp').value)}catch(e){}">=</button><div id="cRes" class="tool-display">0</div>`;
                    break;
                case 'clicker':
                    c.innerHTML = `<h3>–ö–ª–∏–∫–µ—Ä</h3><div id="clck" class="tool-display">0</div><button class="tool-btn" onclick="document.getElementById('clck').innerText++">–ö–ª–∏–∫!</button>`;
                    break;
                case 'stopwatch':
                    c.innerHTML = `<h3>–°–µ–∫—É–Ω–¥–æ–º–µ—Ä</h3><div id="sw" class="tool-display">0.00</div><button class="tool-btn" onclick="window.swI=setInterval(()=>document.getElementById('sw').innerText=(parseFloat(document.getElementById('sw').innerText)+0.01).toFixed(2),10)">–°—Ç–∞—Ä—Ç</button><button class="tool-btn" onclick="clearInterval(window.swI)">–°—Ç–æ–ø</button>`;
                    break;
                case 'random':
                    c.innerHTML = `<h3>–†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä 1-100</h3><div id="rnd" class="tool-display">?</div><button class="tool-btn" onclick="document.getElementById('rnd').innerText=Math.floor(Math.random()*100)+1">–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>`;
                    break;
                case 'password':
                    c.innerHTML = `<h3>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª—è</h3><div id="pwd" class="tool-display" style="font-size:20px">...</div><button class="tool-btn" onclick="document.getElementById('pwd').innerText=Math.random().toString(36).slice(-8)">–°–æ–∑–¥–∞—Ç—å</button>`;
                    break;
                case 'battery':
                     if('getBattery' in navigator) navigator.getBattery().then(b => c.innerHTML = `<h3>–ë–∞—Ç–∞—Ä–µ—è</h3><div class="tool-display">${Math.round(b.level*100)}%</div><div>${b.charging?'‚ö° –ó–∞—Ä—è–∂–∞–µ—Ç—Å—è':''}</div>`);
                     else c.innerHTML = `<h3>–ë–∞—Ç–∞—Ä–µ—è</h3><div>–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ</div>`;
                    break;
                case 'color':
                    c.innerHTML = `<h3>–í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞</h3><input type="color" onchange="document.body.style.backgroundColor=this.value; setTimeout(()=>document.body.style.backgroundColor='', 2000)" style="width:100px;height:100px"><div>–§–æ–Ω –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ 2 —Å–µ–∫</div>`;
                    break;
                case 'currency':
                    c.innerHTML = `<h3>–ö—É—Ä—Å –í–∞–ª—é—Ç (–ü—Ä–∏–º–µ—Ä)</h3><div style="text-align:left; margin-top:20px">üá∫üá∏ USD: 96.50 ‚ÇΩ<br>üá™üá∫ EUR: 104.20 ‚ÇΩ<br>üê± KMR: 10000 ‚ÇΩ</div>`;
                    break;
                case 'flashlight':
                    c.innerHTML = `<h3>–§–æ–Ω–∞—Ä–∏–∫</h3><button class="tool-btn" onclick="document.getElementById('appWindow').style.backgroundColor='#fff'">–í–ö–õ (–ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω)</button><button class="tool-btn" onclick="document.getElementById('appWindow').style.backgroundColor=''">–í–´–ö–õ</button>`;
                    break;
                case 'qrcode':
                    c.innerHTML = `<h3>QR –ö–æ–¥</h3><input id="qrT" class="tool-input" placeholder="–¢–µ–∫—Å—Ç"><button class="tool-btn" onclick="alert('–¢—É—Ç –±—ã–ª –±—ã QR –∫–æ–¥ –¥–ª—è: '+document.getElementById('qrT').value)">–°–æ–∑–¥–∞—Ç—å</button>`;
                    break;
                case 'coin':
                    c.innerHTML = `<h3>–ú–æ–Ω–µ—Ç–∫–∞</h3><div id="cn" class="tool-display">ü™ô</div><button class="tool-btn" onclick="document.getElementById('cn').innerText=Math.random()>0.5?'–û—Ä–µ–ª':'–†–µ—à–∫–∞'">–ü–æ–¥–±—Ä–æ—Å–∏—Ç—å</button>`;
                    break;
                case 'dice':
                    c.innerHTML = `<h3>–ö–æ—Å—Ç–∏</h3><div id="dc" class="tool-display">üé≤</div><button class="tool-btn" onclick="document.getElementById('dc').innerText=Math.floor(Math.random()*6)+1">–ë—Ä–æ—Å–∏—Ç—å</button>`;
                    break;
                case 'magic8':
                    const ans = ["–î–∞", "–ù–µ—Ç", "–í–æ–∑–º–æ–∂–Ω–æ", "–°–ø—Ä–æ—Å–∏ –ø–æ–∑–∂–µ", "–¢–æ—á–Ω–æ –¥–∞", "–í—Ä—è–¥ –ª–∏"];
                    c.innerHTML = `<h3>–®–∞—Ä –°—É–¥—å–±—ã</h3><div id="m8" class="tool-display">üé±</div><button class="tool-btn" onclick="document.getElementById('m8').innerText='${ans[0]}'.replace('${ans[0]}', ['–î–∞','–ù–µ—Ç','–ú–±','–¢–æ—á–Ω–æ'][Math.floor(Math.random()*4)])">–°–ø—Ä–æ—Å–∏—Ç—å</button>`;
                    break;
                case 'converter':
                    c.innerHTML = `<h3>–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä (–ö–º -> –ú–∏–ª–∏)</h3><input id="km" class="tool-input" placeholder="–ö–º"><button class="tool-btn" onclick="alert((document.getElementById('km').value * 0.621371).toFixed(2) + ' –º–∏–ª—å')">–í –ú–∏–ª–∏</button>`;
                    break;
                case 'bmi':
                    c.innerHTML = `<h3>–ò–ú–¢</h3><input id="h" class="tool-input" placeholder="–†–æ—Å—Ç (—Å–º)"><input id="w" class="tool-input" placeholder="–í–µ—Å (–∫–≥)"><button class="tool-btn" onclick="let h=document.getElementById('h').value/100; alert((document.getElementById('w').value/(h*h)).toFixed(1))">–†–∞—Å—á–µ—Ç</button>`;
                    break;
                case 'breathe':
                     c.innerHTML = `<h3>–î—ã—Ö–∞–Ω–∏–µ</h3><div id="brC" style="width:50px;height:50px;background:#4680C2;border-radius:50%;margin:20px auto;transition:transform 3s"></div><button class="tool-btn" onclick="setInterval(()=>{document.getElementById('brC').style.transform='scale(2)';setTimeout(()=>document.getElementById('brC').style.transform='scale(1)',3000)},6000)">–ù–∞—á–∞—Ç—å</button>`;
                    break;
                case 'textrev':
                    c.innerHTML = `<h3>–†–µ–≤–µ—Ä—Å —Ç–µ–∫—Å—Ç–∞</h3><input id="tr" class="tool-input"><button class="tool-btn" onclick="alert(document.getElementById('tr').value.split('').reverse().join(''))">–ü–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å</button>`;
                    break;
                case 'age':
                    c.innerHTML = `<h3>–í–æ–∑—Ä–∞—Å—Ç –≤ –¥–Ω—è—Ö</h3><input type="date" id="ad" class="tool-input"><button class="tool-btn" onclick="alert(Math.floor((new Date() - new Date(document.getElementById('ad').value))/(1000*60*60*24)) + ' –¥–Ω–µ–π')">–°—á–∏—Ç–∞—Ç—å</button>`;
                    break;
                case 'piano':
                    c.innerHTML = `<h3>–ú–∏–Ω–∏ –ü–∏–∞–Ω–∏–Ω–æ</h3><div><button class="tool-btn" onclick="new Audio('https://www.soundjay.com/button/beep-07.wav').play()">Do</button><button class="tool-btn" onclick="new Audio('https://www.soundjay.com/button/beep-08.wav').play()">Re</button><button class="tool-btn" onclick="new Audio('https://www.soundjay.com/button/beep-09.wav').play()">Mi</button></div>`;
                    break;
                case 'tictactoe':
                    c.innerHTML = `<h3>–ö—Ä–µ—Å—Ç–∏–∫–∏-–ù–æ–ª–∏–∫–∏</h3><div class="grid-game" id="ttt">${Array(9).fill('<div class="grid-cell" onclick="if(!this.innerText)this.innerText=\'X\'"></div>').join('')}</div><button class="tool-btn" onclick="document.querySelectorAll(\'.grid-cell\').forEach(c=>c.innerText=\'\')">–°–±—Ä–æ—Å</button>`;
                    break;
                case 'metronome':
                     c.innerHTML = `<h3>–ú–µ—Ç—Ä–æ–Ω–æ–º</h3><div class="tool-display">BPM: 60</div><button class="tool-btn" onclick="alert('–¢–∏–∫-—Ç–∞–∫ (–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –∑–≤—É–∫)')">–°—Ç–∞—Ä—Ç</button>`;
                     break;
                case 'pomodoro':
                     c.innerHTML = `<h3>–ü–æ–º–æ–¥–æ—Ä–æ</h3><div class="tool-display">25:00</div><button class="tool-btn">–°—Ç–∞—Ä—Ç</button>`;
                     break;
                case 'reaction':
                     c.innerHTML = `<h3>–†–µ–∞–∫—Ü–∏—è</h3><div style="width:100%;height:100px;background:red;" onclick="if(this.style.background=='green') alert('–£—Å–ø–µ—Ö!')" id="rbox">–ñ–¥–∏ –∑–µ–ª–µ–Ω—ã–π...</div><button class="tool-btn" onclick="setTimeout(()=>document.getElementById('rbox').style.background='green', 2000+Math.random()*2000)">–°—Ç–∞—Ä—Ç</button>`;
                     break;
                case 'water':
                     c.innerHTML = `<h3>–¢—Ä–µ–∫–µ—Ä –í–æ–¥—ã</h3><div class="tool-display" id="wtr">0 —Å—Ç–∞–∫–∞–Ω–æ–≤</div><button class="tool-btn" onclick="document.getElementById('wtr').innerText = parseInt(document.getElementById('wtr').innerText)+1 + ' —Å—Ç–∞–∫–∞–Ω–æ–≤'">+1</button>`;
                     break;
                case 'soundboard':
                     c.innerHTML = `<h3>–ó–≤—É–∫–∏</h3><button class="tool-btn" onclick="alert('–ú–Ø–£!')">–ö–æ—Ç</button><button class="tool-btn" onclick="alert('–ë–û–ù–ö!')">–ë–æ–Ω–∫</button>`;
                     break;
                case 'canvas':
                     c.innerHTML = `<h3>–†–∏—Å–æ–≤–∞–ª–∫–∞</h3><div style="border:1px solid #ccc;height:200px;background:white;">(–¢—É—Ç –±—ã–ª –±—ã canvas)</div>`;
                     break;
                case 'counter':
                     c.innerHTML = `<h3>–°—á–µ—Ç—á–∏–∫ —Å–ª–æ–≤</h3><input class="tool-input" oninput="document.getElementById('wc').innerText=this.value.length"><div id="wc">0</div>`;
                     break;
                case 'morse':
                     c.innerHTML = `<h3>–ú–æ—Ä–∑–µ</h3><input class="tool-input" placeholder="SOS"><button class="tool-btn" onclick="alert('... --- ...')">–ü–µ—Ä–µ–≤–æ–¥</button>`;
                     break;
                case 'memory':
                     c.innerHTML = `<h3>–ü–∞–º—è—Ç—å</h3><div>–ù–∞–π–¥–∏ –ø–∞—Ä—É (–î–µ–º–æ)</div><div class="grid-game" style="grid-template-columns:repeat(2,1fr)">${Array(4).fill('<div class="grid-cell">?</div>').join('')}</div>`;
                     break;
                default:
                    c.innerHTML = '<h3>–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</h3>';
            }
        }

        // --- SYSTEM ---
        function updateClock() {
            const now = new Date();
            document.getElementById('clockWidget').innerText = `${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}`;
            const options = { weekday: 'long', month: 'short', day: 'numeric' };
            document.getElementById('dateWidget').innerText = now.toLocaleDateString('ru-RU', options);
        }
        
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            document.querySelector('.theme-btn').innerText = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è' : 'üåô';
        }

        function switchPage(pageId) {
            document.querySelectorAll('.page-section').forEach(el => el.classList.remove('active'));
            document.getElementById('page-' + pageId).classList.add('active');
            document.querySelectorAll('.menu-item, .mobile-nav-item').forEach(el => {
                el.classList.remove('active');
                if(el.dataset.page === pageId) el.classList.add('active');
            });
            window.scrollTo(0,0);
        }

        // Start
        initRadio();
        initApps();
        setInterval(updateClock, 1000);
        updateClock();
    </script>
    <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
</body>
</html>
